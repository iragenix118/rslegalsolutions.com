/*! enscroll - v0.6.0 - 2014-02-27
* Copyright (c) 2014 ; Licensed  */!function(a,g,b,B){var v={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},o=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},c=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.oRequestAnimationFrame||g.msRequestAnimationFrame||function(a){setTimeout(a,17)},d=function(c,d){var e=a(c).css(d),b=/^-?\d+/.exec(e);return b?+b[0]:0},A=function(e){var c,b,d={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},a=document.createElement(e),f=document.createTextNode("a\na");for(b in d)a.style[b]=d[b];return a.appendChild(f),document.body.appendChild(a),c=a.scrollHeight<28,document.body.removeChild(a),c},r=.5*Math.PI,t=10*Math.log(2),l=function(b,c,d){var a=r/c,e=b*a;return Math.round(e*Math.cos(a*d))},x=function(b,a,c){return Math.round(b*t*Math.pow(2,-10*c/a+1)/a)},p=function(a,b,c,d){return 2*c/Math.PI*Math.asin((d-a)/b)},e=function(d){var b=a(this).data("enscroll"),e=this,c=b.settings,f=function(){var b=a(this).data("enscroll"),c=b.settings;b&&c.showOnHover&&(c.verticalScrolling&&a(b.verticalTrackWrapper).is(":visible")&&a(b.verticalTrackWrapper).stop().fadeTo(275,0),c.horizontalScrolling&&a(b.horizontalTrackWrapper).is(":visible")&&a(b.horizontalTrackWrapper).stop().fadeTo(275,0),b._fadeTimer=null)};b&&c.showOnHover&&(b._fadeTimer?clearTimeout(b._fadeTimer):(c.verticalScrolling&&a(b.verticalTrackWrapper).is(":visible")&&a(b.verticalTrackWrapper).stop().fadeTo(275,1),c.horizontalScrolling&&a(b.horizontalTrackWrapper).is(":visible")&&a(b.horizontalTrackWrapper).stop().fadeTo(275,1)),d!==!1&&(b._fadeTimer=setTimeout(function(){f.call(e)},1750)))},j=function(d,f){var b=a(d),c=b.data("enscroll"),g=b.scrollTop();c&&c.settings.verticalScrolling&&(b.scrollTop(g+f),c.settings.showOnHover&&e.call(d))},k=function(d,f){var b=a(d),c=b.data("enscroll"),g=b.scrollLeft();c&&c.settings.horizontalScrolling&&(b.scrollLeft(g+f),c.settings.showOnHover&&e.call(d))},u=function(o){if(1===o.which){var f,g,d,t,s,r,q,m,p,k=o.data.pane,j=a(k),h=j.data("enscroll"),l=!0,u=function(){l&&(d!==t&&(h._scrollingY||(h._scrollingY=!0,h._startY=j.scrollTop(),c(function(){i(j)})),g.style.top=d+"px",h._endY=d*p/m,t=d),c(u),h.settings.showOnHover&&e.call(k))},w=function(a){return l&&(d=a.clientY-r-s,d=Math.min(0>d?0:d,m)),!1},v=function(){return l=!1,b.body.style.cursor=q,this.style.cursor="",f.removeClass("dragging"),a(b.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),a(b).off("mouseout.enscroll.vertical"),j.on("scroll.enscroll.pane",function(a){n.call(this,a)}),!1};return f=a(h.verticalTrackWrapper).find(".enscroll-track"),g=f.children().first()[0],d=parseInt(g.style.top,10),p=k.scrollHeight-(h._scrollHeightNoPadding?a(k).height():a(k).innerHeight()),s=o.clientY-a(g).offset().top,m=f.height()-a(g).outerHeight(),r=f.offset().top,j.off("scroll.enscroll.pane"),a(b.body).on({"mousemove.enscroll.vertical":w,"mouseup.enscroll.vertical":function(a){v.call(g,a)}}),a(b).on("mouseout.enscroll.vertical",function(a){a.target.nodeName&&"HTML"===a.target.nodeName.toUpperCase()&&v.call(g,a)}),f.hasClass("dragging")||(f.addClass("dragging"),q=a(b.body).css("cursor"),this.style.cursor=b.body.style.cursor="ns-resize"),c(u),!1}},s=function(o){if(1===o.which){var f,g,d,t,s,r,q,p,m,j=o.data.pane,k=a(j),h=a(j).data("enscroll"),l=!0,u=function(){l&&(d!==t&&(h._scrollingX||(h._scrollingX=!0,h._startX=k.scrollLeft(),c(function(){i(k)})),g.style.left=d+"px",h._endX=d*s/m,t=d),c(u),h.settings.showOnHover&&e.call(j))},w=function(a){return l&&(d=a.clientX-q-r,d=Math.min(0>d?0:d,m)),!1},v=function(){return l=!1,f.removeClass("dragging"),b.body.style.cursor=p,this.style.cursor="",f.removeClass("dragging"),a(b.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),a(b).off("mouseout.enscroll.horizontal"),k.on("scroll.enscroll.pane",function(a){n.call(this,a)}),!1};return f=a(h.horizontalTrackWrapper).find(".enscroll-track"),g=f.children().first()[0],d=parseInt(g.style.left,10),s=j.scrollWidth-a(j).innerWidth(),r=o.clientX-a(g).offset().left,m=f.width()-a(g).outerWidth(),q=f.offset().left,k.off("scroll.enscroll.pane"),a(b.body).on({"mousemove.enscroll.horizontal":w,"mouseup.enscroll.horizontal":function(a){v.call(g,a)}}),a(b).on("mouseout.enscroll.horizontal",function(a){a.target.nodeName&&"HTML"===a.target.nodeName.toUpperCase()&&v.call(g,a)}),f.hasClass("dragging")||(f.addClass("dragging"),p=a("body").css("cursor"),this.style.cursor=b.body.style.cursor="ew-resize"),c(u),!1}},i=function(e){var b,d,f,a=e.data("enscroll"),g=a._duration;a._scrollingX===!0&&(b=a._endX-a._startX,0===b?a._scrollingX=!1:(d=e.scrollLeft(),f=p(a._startX,b,g,d),b>0?d>=a._endX||d<a._startX?a._scrollingX=!1:(k(e,Math.max(1,l(b,g,f))),c(function(){i(e)})):d<=a._endX||d>a._startX?a._scrollingX=!1:(k(e,Math.min(-1,l(b,g,f))),c(function(){i(e)})))),a._scrollingY===!0&&(b=a._endY-a._startY,0===b?a._scrollingY=!1:(d=e.scrollTop(),f=p(a._startY,b,g,d),b>0?d>=a._endY||d<a._startY?a._scrollingY=!1:(j(e,Math.max(1,l(b,g,f))),c(function(){i(e)})):d<=a._endY||d>a._startY?a._scrollingY=!1:(j(e,Math.min(-1,l(b,g,f))),c(function(){i(e)}))))},m=function(b,d){var a=b.data("enscroll"),e=b.scrollLeft(),f=b[0].scrollWidth-b.innerWidth();return!(!a.settings.horizontalScrolling||a._scrollingY)&&(a._scrollingX||(a._scrollingX=!0,a._startX=e,a._endX=a._startX,c(function(){i(b)})),a._endX=d>0?Math.min(e+d,f):Math.max(0,e+d),0>d&&e>0||d>0&&f>e)},h=function(b,d){var a=b.data("enscroll"),e=b.scrollTop(),f=b[0].scrollHeight-(a._scrollHeightNoPadding?b.height():b.innerHeight());return!(!a.settings.verticalScrolling||a._scrollingX)&&(a._scrollingY||(a._scrollingY=!0,a._startY=e,a._endY=a._startY,c(function(){i(b)})),a._endY=d>0?Math.min(e+d,f):Math.max(0,e+d),0>d&&e>0||d>0&&f>e)},w=function(b){var c,e=a(this),f=e.data("enscroll"),d=f.settings.scrollIncrement,g="deltaX"in b?-b.deltaX:"wheelDeltaX"in b?b.wheelDeltaX:0,i="deltaY"in b?-b.deltaY:"wheelDeltaY"in b?b.wheelDeltaY:"wheelDelta"in b?b.wheelDelta:0;Math.abs(g)>Math.abs(i)?(c=(g>0?-d:d)<<2,(m(e,c)||!f.settings.propagateWheelEvent)&&o(b)):(c=(i>0?-d:d)<<2,(h(e,c)||!f.settings.propagateWheelEvent)&&o(b))},n=function(){var c,d,b,e=a(this),f=e.data("enscroll");f&&(f.settings.verticalScrolling&&(d=a(f.verticalTrackWrapper).find(".enscroll-track")[0],c=d.firstChild,b=e.scrollTop()/(this.scrollHeight-(f._scrollHeightNoPadding?e.height():e.innerHeight())),b=isNaN(b)?0:b,c.style.top=b*(a(d).height()-a(c).outerHeight())+"px"),f.settings.horizontalScrolling&&(d=a(f.horizontalTrackWrapper).find(".enscroll-track")[0],c=d.firstChild,b=e.scrollLeft()/(this.scrollWidth-e.innerWidth()),b=isNaN(b)?0:b,c.style.left=b*(a(d).width()-a(c).innerWidth())+"px"))},y=function(d){var c,b=a(this),e=b.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&d.target===this&&e){switch(c=e.settings.scrollIncrement,d.keyCode){case 32:case 34:return h(b,b.height()),!1;case 33:return h(b,-b.height()),!1;case 35:return h(b,this.scrollHeight),!1;case 36:return h(b,-this.scrollHeight),!1;case 37:return m(b,-c),!1;case 38:return h(b,-c),!1;case 39:return m(b,c),!1;case 40:return h(b,c),!1}return!0}},z=function(){var d=this,m=a(d).data("enscroll").settings,i=!0,f=0,g=0,h=a(d).offset().top,l=h+a(d).outerHeight(),e=a(d).offset().left,n=e+a(d).outerWidth(),p=function(c){var a=c.pageX,b=c.pageY;f=e>a?a-e:a>n?a-n:0,g=h>b?b-h:b>l?b-l:0},o=function(){m.horizontalScrolling&&f&&k(d,parseInt(f/4,10)),m.verticalScrolling&&g&&j(d,parseInt(g/4,10)),i&&c(o)},q=function(){i=!1,a(b).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};c(o),a(b).on({"mousemove.enscroll.pane":p,"mouseup.enscroll.pane":q})},q=function(l){var a,b,f,d,e,g,h,i=this,m=function(c){a=c.touches[0].clientX,b=c.touches[0].clientY,f||(f=b===e&&a===d?B:Math.abs(e-b)>Math.abs(d-a)?"y":"x"),o(c)},n=function(){g&&("y"===f?(j(i,e-b),h=e-b,e=b):"x"===f&&(k(i,d-a),h=d-a,d=a),c(n))},p=function(){var a=0,b=Math.abs(1.5*h);this.removeEventListener("touchmove",m,!1),this.removeEventListener("touchend",p,!1),g=!1,c(function e(){var d;a===b||g||(d=x(h,b,a),isNaN(d)||0===d||(a+=1,"y"===f?j(i,d):k(i,d),c(e)))})};1===l.touches.length&&(d=l.touches[0].clientX,e=l.touches[0].clientY,g=!0,this.addEventListener("touchmove",m,!1),this.addEventListener("touchend",p,!1),c(n))},f={reposition:function(){return this.each(function(){var g,e,b,f=a(this),c=f.data("enscroll"),h=function(a,b,c){a.style.left=b+"px",a.style.top=c+"px"};c&&(b=f.position(),g=c.corner,c.settings.verticalScrolling&&(e=c.verticalTrackWrapper,h(e,"right"===c.settings.verticalScrollerSide?b.left+f.outerWidth()-a(e).width()-d(this,"border-right-width"):b.left+d(this,"border-left-width"),b.top+d(this,"border-top-width"))),c.settings.horizontalScrolling&&(e=c.horizontalTrackWrapper,h(e,b.left+d(this,"border-left-width"),b.top+f.outerHeight()-a(e).height()-d(this,"border-bottom-width"))),g&&h(g,b.left+f.outerWidth()-a(g).outerWidth()-d(this,"border-right-width"),b.top+f.outerHeight()-a(g).outerHeight()-d(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var c,l,m,d,e,f,j,i,r,s,p,q,g,o,k,n,h=a(this),b=h.data("enscroll");return!b||(c=b.settings,h.is(":visible")?(c.verticalScrolling&&(d=b.verticalTrackWrapper,l=h.innerHeight(),e=l/this.scrollHeight,f=a(d).find(".enscroll-track")[0],r=a(d).find("."+c.scrollUpButtonClass),s=a(d).find("."+c.scrollDownButtonClass),i=c.horizontalScrolling?l-a(b.horizontalTrackWrapper).find(".enscroll-track").outerHeight():l,i-=a(f).outerHeight()-a(f).height()+r.outerHeight()+s.outerHeight(),g=f.firstChild,k=Math.max(e*i,c.minScrollbarLength),k-=a(g).outerHeight()-a(g).height(),d.style.display="none",f.style.height=i+"px",g.style.height=k+"px",1>e&&(e=h.scrollTop()/(this.scrollHeight-h.height()),g.style.top=e*(i-k)+"px",d.style.display="block")),c.horizontalScrolling&&(d=b.horizontalTrackWrapper,m=h.innerWidth(),e=m/this.scrollWidth,f=a(d).find(".enscroll-track")[0],p=a(d).find("."+c.scrollLeftButtonClass),q=a(d).find("."+c.scrollRightButtonClass),j=c.verticalScrolling?m-a(b.verticalTrackWrapper).find(".enscroll-track").outerWidth():m,j-=a(f).outerWidth()-a(f).width()+p.outerWidth()+q.outerWidth(),g=f.firstChild,o=Math.max(e*j,c.minScrollbarLength),o-=a(g).outerWidth()-a(g).width(),d.style.display="none",f.style.width=j+"px",g.style.width=o+"px",1>e&&(e=h.scrollLeft()/(this.scrollWidth-h.width()),g.style.left=e*(j-o)+"px",d.style.display="block"),b._prybar&&(n=b._prybar,this.removeChild(n),c.verticalScrolling&&(n.style.width=this.scrollWidth+a(b.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(n)))),b.corner&&(b.corner.style.display=b.verticalTrackWrapper&&b.horizontalTrackWrapper&&a(b.verticalTrackWrapper).is(":visible")&&a(b.horizontalTrackWrapper).is(":visible")?"":"none")):(c.verticalScrolling&&(b.verticalTrackWrapper.style.display="none"),c.horizontalScrolling&&(b.horizontalTrackWrapper.style.display="none"),b.corner&&(b.corner.style.display="none")),void 0)})},startPolling:function(){return this.each(function(){var e,c=a(this).data("enscroll"),d=this,b=a(d),g=-1,h=-1,i=-1,j=-1,k=function(){if(c.settings.pollChanges){var n=d.scrollWidth,o=d.scrollHeight,a=b.width(),l=b.height(),m=b.offset();(c.settings.verticalScrolling&&(l!==h||o!==j)||c.settings.horizontalScrolling&&(a!==g||n!==i))&&(i=n,j=o,f.resize.call(b)),(e.left!==m.left||e.top!==m.top||a!==g||l!==h)&&(e=m,g=a,h=l,f.reposition.call(b)),setTimeout(k,350)}};c&&(c.settings.pollChanges=!0,j=d.scrollHeight,i=d.scrollWidth,e=b.offset(),k())})},stopPolling:function(){return this.each(function(){var b=a(this).data("enscroll");b&&(b.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var c,d,e=a(this),b=e.data("enscroll");b&&(f.stopPolling.call(e),d=b._mouseScrollHandler,b.settings.verticalScrolling&&(c=b.verticalTrackWrapper,a(c).remove(),c=null),b.settings.horizontalScrolling&&(c=b.horizontalTrackWrapper,a(c).remove(),c=null),b._fadeTimer&&clearTimeout(b._fadeTimer),b.corner&&a(b.corner).remove(),b._prybar&&b._prybar.parentNode&&b._prybar.parentNode===this&&a(b._prybar).remove(),this.setAttribute("style",b._style||""),b._hadTabIndex||e.removeAttr("tabindex"),e.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",d,!1),this.removeEventListener("mousewheel",d,!1),this.removeEventListener("touchstart",q,!1)):this.detachEvent&&this.detachEvent("onmousewheel",d),a(g).off("resize.enscroll.window"))})}};a.fn.enscroll=function(i){var c;return f[i]?f[i].call(this):(c=a.extend({},v,i),this.each(function(){if(c.verticalScrolling||c.horizontalScrolling){var p,o,r,t,x,B,P,O,M,L,E,v,I,G,J,D,H,K,i=a(this),l=this,R=i.attr("style"),N=!0,F={position:"absolute","z-index":c.zIndex,margin:0,padding:0},C=function(a){w.call(l,a)},Q=function(c,b){"string"==typeof b?a(c).html(b):c.appendChild(b)};if(c.verticalScrolling){o=b.createElement("div"),t=b.createElement("div"),B=b.createElement("a"),a(t).css("position","relative").addClass("enscroll-track").addClass(c.verticalTrackClass).appendTo(o),c.drawScrollButtons&&(P=b.createElement("a"),O=b.createElement("a"),a(P).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(c.scrollUpButtonClass).on("click",function(){return j(l,-c.scrollIncrement),!1}).insertBefore(t),a(O).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return j(l,c.scrollIncrement),!1}).addClass(c.scrollDownButtonClass).appendTo(o)),c.clickTrackToScroll&&a(t).on("click",function(b){b.target===this&&h(i,b.pageY>a(B).offset().top?i.height():-i.height())}),a(B).css({position:"absolute","z-index":1}).attr("href","").addClass(c.verticalHandleClass).mousedown({pane:this},u).click(function(){return!1}).appendTo(t),Q(B,c.verticalHandleHTML),a(o).css(F).insertAfter(this),c.showOnHover&&a(o).css("opacity",0).on("mouseover.enscroll.vertical",function(){e.call(l,!1)}).on("mouseout.enscroll.vertical",function(){e.call(l)}),v=a(t).outerWidth(),c.addPaddingToPane&&(K="right"===c.verticalScrollerSide?{"padding-right":d(this,"padding-right")+v+"px"}:{"padding-left":d(this,"padding-left")+v+"px"},i.css(a.extend({width:i.width()-v+"px"},K)));try{D=parseInt(i.css("outline-width"),10),0!==D&&!isNaN(D)||"none"!==i.css("outline-style")||i.css("outline","none")}catch(a){i.css("outline","none")}}c.horizontalScrolling&&(p=b.createElement("div"),r=b.createElement("div"),x=b.createElement("a"),a(r).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(c.horizontalTrackClass).appendTo(p),c.drawScrollButtons&&(M=b.createElement("a"),L=b.createElement("a"),a(M).css("display","block").attr("href","").on("click",function(){return k(l,-c.scrollIncrement),!1}).addClass(c.scrollLeftButtonClass).insertBefore(r),a(L).css("display","block").attr("href","").on("click",function(){return k(l,c.scrollIncrement),!1}).addClass(c.scrollRightButtonClass).appendTo(p)),c.clickTrackToScroll&&a(r).on("click",function(b){b.target===this&&m(i,b.pageX>a(x).offset().left?i.width():-i.width())}),a(x).css({position:"absolute","z-index":1}).attr("href","").addClass(c.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},s).appendTo(r),Q(x,c.horizontalHandleHTML),a(p).css(F).insertAfter(this),c.showOnHover&&a(p).css("opacity",0).on("mouseover.enscroll.horizontal",function(){e.call(l,!1)}).on("mouseout.enscroll.horizontal",function(){e.call(l)}),E=a(r).outerHeight(),c.addPaddingToPane&&i.css({height:i.height()-E+"px","padding-bottom":parseInt(i.css("padding-bottom"),10)+E+"px"}),H=document.createElement("div"),a(H).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this)),c.verticalScrolling&&c.horizontalScrolling&&c.drawCorner&&(I=b.createElement("div"),a(I).addClass(c.cornerClass).css(F).insertAfter(this)),J=i.attr("tabindex"),J||(i.attr("tabindex",0),N=!1);try{G=i.css("outline"),(!G||G.length<1)&&i.css("outline","none")}catch(a){i.css("outline","none")}i.on({"scroll.enscroll.pane":function(a){n.call(this,a)},"keydown.enscroll.pane":y,"mousedown.enscroll.pane":z}).css("overflow","hidden").data("enscroll",{settings:c,horizontalTrackWrapper:p,verticalTrackWrapper:o,corner:I,_prybar:H,_mouseScrollHandler:C,_hadTabIndex:N,_style:R,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(c.easingDuration/16.66666,10),_scrollHeightNoPadding:A(this.nodeName)}),a(g).on("resize.enscroll.window",function(){f.reposition.call(i)}),c.showOnHover&&i.on("mouseenter.enscroll.pane",function(){e.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in g&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",C,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",C,!1),this.addEventListener("touchstart",q,!1)):this.attachEvent&&this.attachEvent("onmousewheel",C),c.pollChanges&&f.startPolling.call(i),f.resize.call(i),f.reposition.call(i)}}))}}(jQuery,window,document)